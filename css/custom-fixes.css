/* FORCE LOAD ETMODULES FONT GLOBALLY TO FIX SUBPAGE ICONS */
@font-face {
    font-family: 'ETmodules';
    src: url('/FFC-EX-SRRN.net/assets/themes/Divi/core/admin/fonts/modules/all/modules.eot');
    src: url('/FFC-EX-SRRN.net/assets/themes/Divi/core/admin/fonts/modules/all/modules.eot?#iefix') format('embedded-opentype'),
        url('/FFC-EX-SRRN.net/assets/themes/Divi/core/admin/fonts/modules/all/modules.woff') format('woff'),
        url('/FFC-EX-SRRN.net/assets/themes/Divi/core/admin/fonts/modules/all/modules.ttf') format('truetype'),
        url('/FFC-EX-SRRN.net/assets/themes/Divi/core/admin/fonts/modules/all/modules.svg#ETmodules') format('svg');
    font-weight: 400;
    font-style: normal;
}

/* Fix for 0-height YouTube iframes in Divi and generic embeds */
.et_pb_video_box iframe,
.et_pb_video_box embed,
.et_pb_video_box object,
.et_pb_module iframe,
.wp-block-embed iframe,
.fluid-width-video-wrapper iframe {
    width: 100% !important;
    height: 100% !important;
    min-height: 300px;
    /* Fallback height */
    aspect-ratio: 16 / 9;
    /* Modern aspect ratio fix */
    display: block !important;
    visibility: visible !important;
}

/* Ensure the container itself has layout */
.et_pb_video_box,
.fluid-width-video-wrapper {
    display: block !important;
    width: 100% !important;
    position: relative;
    padding: 0 0 56.25% 0 !important;
    /* 16:9 Aspect Ratio hack for older browsers/containers */
    height: 0;
    /* Height set to 0 so padding-bottom defines visible height/aspect ratio; iframe is absolutely positioned inside */
}

/* Specific Override for Hero Video (Ultra-wide) */
.et_pb_fullwidth_code_0 .fluid-width-video-wrapper {
    padding-bottom: 21.5% !important;
    /* Approx 1920x412 ratio */
}

.et_pb_video_box iframe,
.fluid-width-video-wrapper iframe {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
}

/* Fix for invisible footer (white text on white background) */
footer .et_pb_section,
#main-footer .et_pb_section,
.et-l--footer .et_pb_section {
    background-color: #455a64 !important;
    /* Lighter blue-grey fallback color */
    color: #ffffff !important;
    /* Ensure text is visible on dark background */
    background-image: none !important;
    /* Reset if broken image */
    padding-top: 20px;
    padding-bottom: 20px;
}

/* Force inner containers to be transparent so section color shows */
footer .et_pb_section .et_pb_row,
footer .et_pb_section .et_pb_column,
footer .et_pb_section .et_pb_module,
#main-footer .et_pb_section .et_pb_row,
#main-footer .et_pb_section .et_pb_column,
#main-footer .et_pb_section .et_pb_module,
.et-l--footer .et_pb_section .et_pb_row,
.et-l--footer .et_pb_section .et_pb_column {
    background-color: transparent !important;
}

/* Header Fixes - Prevent Menu Wrapping */
.et_pb_menu__logo {
    max-width: 250px !important;
    /* Reduce logo size from 398px to allow menu space */
    width: auto !important;
}

.et_pb_menu__logo img {
    max-height: 80px !important;
    /* Constrain height */
    width: auto !important;
}

/* Ensure menu items fit on one line */
.et_menu-nav li a {
    padding-left: 12px !important;
    padding-right: 12px !important;
    font-size: 14px !important;
    /* Slight adjustments to ensure fit */
}

/* Fix Search Icon Visibility */
.et_pb_menu__icon.et_pb_menu__search-button {
    display: block !important;
    /* Override custom-menu.css display:none */
    opacity: 1 !important;
    cursor: pointer;
}

/* FIX: Visual Discrepancies Audit (Refined) */

/* 1. Fix Footer Background (Teal match to srrn.net) */
/* Override previous #455a64 rule with higher specificity */
body #page-container #main-footer .et_pb_section,
body #page-container footer .et_pb_section,
body #page-container .et-l--footer .et_pb_section {
    background-color: #00a19a !important;
    /* Teal */
    padding-top: 30px !important;
    padding-bottom: 30px !important;
}

/* 2. Fix Video Player Height (Homepage) */
/* Force correct aspect ratio/height for the video iframe AND container */
body #page-container .et_pb_video_box,
body #page-container .fluid-width-video-wrapper {
    padding-bottom: 0 !important;
    /* Disable ratio padding hack */
    height: 411px !important;
    min-height: 411px !important;
}

body #page-container .et_pb_video_box iframe,
body #page-container .et_pb_video_box video,
body #page-container .fluid-width-video-wrapper iframe {
    position: relative !important;
    /* Reset absolute */
    height: 411px !important;
    min-height: 411px !important;
    width: 100% !important;
}

/* 3. Fix Duplicate Search Icon & Color */
/* Hide the pseudo-element added by theme */
.et_pb_menu__icon.et_pb_menu__search-button::after {
    display: none !important;
}

/* Style our custom icon to match live site Teal */
.et_pb_menu__icon.et_pb_menu__search-button::before {
    display: block !important;
    color: #7ebec5 !important;
    /* Live site Teal rgb(126, 190, 197) */
    font-weight: 900 !important;
}

/* Align "Who We Are" and "Guiding Principles" rows - ensure consistent width */
body.page-id-6 #page-container .et_pb_row_2,
body.page-id-6 #page-container .et_pb_row_3 {
    padding-left: 0px !important;
    padding-right: 0px !important;
}

/* Add green border frame to 'Who We Are' section (.et_pb_text_2) - matches original site */
/* IMPORTANT: Only apply to home page (page-id-6) to avoid affecting other pages */
body.page-id-6 #page-container .et_pb_text_2 {
    border: 20px solid #1aa99e !important;
    padding: 50px 30px !important;
    background-color: #ffffff !important;
    box-shadow: 0px 2px 18px 0px rgba(0, 0, 0, 0.3) !important;
    margin-top: 20px !important;
    margin-left: 0px !important;
    margin-right: 0px !important;
    display: block !important;
    position: relative !important;
    z-index: 10 !important;
    border-radius: 0 !important;
}

/* 10. Floating Donate Now Button (Custom Injection - Text + Icon) */
.custom-donate-button-wrapper {
    position: fixed !important;
    bottom: 35.95px !important;
    right: 76.75px !important;
    z-index: 99999 !important;
    display: flex !important;
    align-items: center !important;
    gap: 0 !important;
}

.custom-donate-button {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    background-color: #2d2d2d !important;
    /* Dark gray/black background */
    border-radius: 4px !important;
    /* Subtle rounded corners */
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3) !important;
    transition: transform 0.3s ease, box-shadow 0.3s ease !important;
    text-decoration: none !important;
    padding: 12px 20px !important;
    height: 50px !important;
    position: relative !important;
    z-index: 1 !important;
}

.custom-donate-button:hover {
    transform: translateY(-2px) !important;
    box-shadow: 0 6px 14px rgba(0, 0, 0, 0.4) !important;
}

.custom-donate-button .icon {
    display: none !important;
    /* Hide the $ icon inside the button */
}

.custom-donate-button .label {
    color: #ffffff !important;
    font-size: 14px !important;
    font-weight: 700 !important;
    font-family: 'Roboto', Helvetica, Arial, Lucida, sans-serif !important;
    line-height: 1 !important;
    text-transform: none !important;
    /* Title case: "Donate Now" */
    letter-spacing: 0 !important;
}

/* Circular icon on the right side */
.custom-donate-button-wrapper::after {
    content: "" !important;
    display: block !important;
    width: 50px !important;
    height: 50px !important;
    background-color: #1aa99e !important;
    /* Teal background */
    border-radius: 50% !important;
    /* Perfectly circular */
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3) !important;
    position: relative !important;
    /* Slight overlap with button for cohesive two-component appearance */
    margin-left: -5px !important;
    z-index: 0 !important;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z'/%3E%3C/svg%3E") !important;
    background-size: 30px 30px !important;
    background-repeat: no-repeat !important;
    background-position: center !important;
    transition: transform 0.3s ease, box-shadow 0.3s ease !important;
}

.custom-donate-button-wrapper:hover::after {
    transform: translateY(-2px) !important;
    box-shadow: 0 6px 14px rgba(0, 0, 0, 0.4) !important;
}

/* 11. Social Icons - Restore Colored Squares (Live Site Match) */
body #page-container .et_pb_social_media_follow li a.icon,
body .et_pb_social_media_follow li a.icon,
.et_pb_social_media_follow li a.icon {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 32px !important;
    height: 32px !important;
    border-radius: 3px !important;
    font-size: 16px !important;
    color: #ffffff !important;
    text-decoration: none !important;
    /* Reset margins/paddings */
    margin: 0 !important;
    padding: 0 !important;
}

/* Facebook Blue */
body #page-container .et_pb_social_media_follow li a.icon[href*="facebook"],
.et_pb_social_media_follow li a.icon[href*="facebook"] {
    background-color: #3b5998 !important;
}

/* X / Twitter Black */
body #page-container .et_pb_social_media_follow li a.icon[href*="twitter"],
.et_pb_social_media_follow li a.icon[href*="twitter"],
body #page-container .et_pb_social_media_follow li a.icon[href*="x.com"],
.et_pb_social_media_follow li a.icon[href*="x.com"] {
    background-color: #000000 !important;
}

/* Force Icon Font */
body #page-container .et_pb_social_media_follow li a.icon::before,
.et_pb_social_media_follow li a.icon::before {
    font-family: 'ETmodules' !important;
    color: #ffffff !important;
    line-height: 1 !important;
    font-size: 16px !important;
    height: auto !important;
    width: auto !important;
    display: block !important;
}

/* ==========================================================================
   12. About Us Page Fixes (Refined)
   ========================================================================== */

/* Fix Board & Testimonial Background Colors (Force White & Remove Teal Overlay) */
.page-id-294 .et_pb_section_5,
.page-id-294 .et_pb_section_6,
.et_pb_section_5,
.et_pb_section_6 {
    background-color: #ffffff !important;
    background-image: none !important;
}

/* Ensure Inner Modules also are white if they inherited teal */
.et_pb_section_5 .et_pb_module,
.et_pb_section_6 .et_pb_module {
    background-color: transparent !important;
}

/* Fix Misplaced Circle Graphic (Force Visible Dimensions) */
.et_pb_section_0 {
    position: relative !important;
    z-index: 1 !important;
    overflow: visible !important;
    /* Allow circle to overflow if needed */
}

img[src*="SRRN-Circle-Design-Teal.png"] {
    top: 0 !important;
    left: 0 !important;
    position: absolute !important;
    visibility: visible !important;
    display: block !important;
    width: 100% !important;
    /* Force width */
    height: auto !important;
    /* Force height */
    max-width: none !important;
    /* Override constraint */
    z-index: 0 !important;
    opacity: 1 !important;
    transform: none !important;
    pointer-events: none !important;
    /* Don't block clicks */
}

/* Restore Testimonial Quotation Icons (Using actual quote icon image) */
.et_pb_testimonial_portrait {
    background-image: url('../images/quote-icon.svg') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    background-color: transparent !important;
    border-radius: 50% !important;
    overflow: hidden !important;
    width: 90px !important;
    /* Force standard size */
    height: 90px !important;
    display: block !important;
    float: left !important;
    margin-right: 30px !important;
    position: relative !important;
}

/* Hide any child images (placeholder images) inside the portrait circle */
.et_pb_testimonial_portrait img {
    display: none !important;
}

/* Remove the old icon font approach */
body #page-container .et_pb_testimonial_portrait:before,
.et_pb_testimonial_portrait:before {
    display: none !important;
}

/* Individual Testimonial Boxes - Light Gray Background */
/* Note: !important needed to override Divi theme's default testimonial styles */
.et_pb_testimonial,
body #page-container .et_pb_testimonial,
.page-id-294 .et_pb_testimonial {
    background-color: #f5f5f5 !important;
    padding: 20px !important;
    margin-bottom: 20px !important;
    border-radius: 0 !important;
}


/* Ensure list items have spacing */
body #page-container .et_pb_social_media_follow li,
.et_pb_social_media_follow li {
    margin: 0 5px !important;
    display: inline-block !important;
}

/* 5. Fix Training Tracker (Number Counters) */
/* Targeted fix for all number counters in this section */
body #page-container .et_pb_number_counter {
    background-color: #f7f9f9 !important;
    padding: 10px 10px 15px !important;
    /* Reduced padding for smaller box height */
    text-align: center !important;
    margin-bottom: 20px !important;
}

/* Tracker Title Font Fix */
body #page-container .et_pb_number_counter .et_pb_number_counter_title,
body #page-container .et_pb_number_counter .title,
body #page-container .et_pb_number_counter h3.title {
    font-size: 11px !important;
    color: #7ebec5 !important;
    padding-top: 10px !important;
    line-height: 1.3em !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
}

/* Tracker Number Font Fix */
/* Tracker Number Font Fix - Correct Color and Size */
body #page-container .et_pb_number_counter .percent-value {
    font-size: 32px !important;
    font-weight: 700 !important;
    color: #1aa99e !important;
    /* Live site Teal */
    visibility: visible !important;
    opacity: 1 !important;
    line-height: 1.2em !important;
    display: block !important;
}

/* Center the numbers vertically in the Training Tracker boxes */
body #page-container .et_pb_number_counter .percent {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    min-height: 50px !important;
    /* Reduced from 80px for tighter spacing */
}

body #page-container .et_pb_number_counter .percent p {
    margin: 0 !important;
    padding: 0 !important;
}

/* 6. Guiding Principles Box Fix (Specific Module) */
/* Identified via verification as .et_pb_text_3 */
/* Only apply on home page to avoid affecting "Board of Directors" heading on about-us page */
body.page-id-6 #page-container .et_pb_text_3 {
    border: 20px solid #1aa99e !important;
    padding: 50px 30px !important;
    background-color: #ffffff !important;
    box-shadow: 0px 2px 18px 0px rgba(0, 0, 0, 0.3) !important;
    margin-top: 20px !important;
    margin-left: 0px !important;
    margin-right: 0px !important;
    /* Force border visibility and box model */
    display: block !important;
    position: relative !important;
    z-index: 10 !important;
    border-radius: 0 !important;
    /* Ensure square corners */
}

/* 7. Fix Missing "Making a Difference" Teal Bar */
/* Visual Audit revealed background was White (invisible white text) */
/* FORCEFUL Override using html specificity and background shorthand */
/* NOTE: Removed et_pb_section_4 from this rule as testimonials section should be white */
html body #page-container .et_pb_fullwidth_header_0,
html body #page-container .et_pb_fullwidth_header_0 .et_pb_fullwidth_header_container {
    background: #1AA99E !important;
    background-color: #1AA99E !important;
    /* Vibrant Teal - matches site brand color */
    position: relative !important;
    z-index: 5 !important;
    display: block !important;
    visibility: visible !important;
}

/* Ensure text inside is visible */
html body #page-container .et_pb_fullwidth_header_0 h1,
html body #page-container .et_pb_fullwidth_header_0 .et_pb_module_header {
    color: #ffffff !important;
    display: block !important;
    text-align: center !important;
    z-index: 10 !important;
    position: relative !important;
}

/* Testimonials Section - White Background */
html body #page-container div.et_pb_section_4 {
    background-color: #ffffff !important;
    position: relative !important;
    z-index: 5 !important;
    display: block !important;
    visibility: visible !important;
}

/* Remove any masking or white overlays */
html body #page-container .et_pb_section_4::before,
html body #page-container .et_pb_section_4::after {
    background: transparent !important;
}

/* 8. Fix Invisible Training Tracker Numbers */
/* 8. Fix Invisible Training Tracker Numbers - Handled by Rule 5 above with High Specificity */

/* 9. Force Restore Teal Feather Graphic */
/* Target by filename structure since class names might vary */
img[src*="Feather-Teal"],
img[src*="feather-teal"] {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    width: auto !important;
    max-width: 100% !important;
    height: auto !important;
    /* Ensure it isn't hidden by parent overflow */
    position: relative !important;
    z-index: 10 !important;
}

/* FINAL FIXES: Logo & Toggles */
img[src*="SRRN-Circle-Design-Teal"] {
    width: 480px !important;
    max-width: 100% !important;
    height: auto !important;
    display: block !important;
    opacity: 1 !important;
    visibility: visible !important;
}

.et_pb_toggle_open .et_pb_toggle_content {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    height: auto !important;
    padding-bottom: 20px !important;
}

.et_pb_toggle_close .et_pb_toggle_content {
    display: none !important;
}

.et_pb_toggle_title {
    cursor: pointer !important;
}

/* FINAL FIX Round 2: Logo Layout Conflict */
img[src*="SRRN-Circle-Design-Teal"] {
    position: relative !important; /* Force flow layout to expand parent */
    width: 480px !important;
    max-width: 100% !important;
    height: auto !important;
    display: block !important;
    opacity: 1 !important;
    visibility: visible !important;
    left: auto !important;
    top: auto !important;
    margin: 0 auto !important; /* Center it */
}

/* Ensure parent wrapper doesn't collapse */
.et_pb_image_wrap:has(img[src*="SRRN-Circle-Design-Teal"]) {
    width: auto !important;
    display: block !important;
}

/* FINAL FIX Round 3: Force Animation Visibility */
/* Divi animations hide elements (opacity: 0) until JS triggers them. */
/* Since JS is flaky on static pages, we FORCE visibility. */

.et_animated,
.et_pb_animation_top,
.et_pb_animation_bottom,
.et_pb_animation_left,
.et_pb_animation_right,
.et_pb_image_0 {
    opacity: 1 !important;
    animation: none !important;
    transform: none !important;
    visibility: visible !important;
}

/* Ensure the module itself forces display */
.et_pb_image_0 {
    display: block !important;
}

/* Center the feather image on home page */
.et_pb_fullwidth_image_0 {
    text-align: center !important;
}

.et_pb_fullwidth_image_0 img {
    margin: 0 auto !important;
    display: block !important;
}

/* ==========================================================================
   13. Staff Images - Standardize Sizes on About Us Page
   ========================================================================== */

/* Ensure all staff member images are the same size with high specificity */
body #page-container .et_pb_team_member_image img,
body .et_pb_team_member .et_pb_team_member_image img {
    width: 100% !important;
    height: 350px !important;
    object-fit: cover !important;
    object-position: center top !important;
    display: block !important;
    max-width: none !important;
}

/* Ensure the image container has consistent dimensions */
body #page-container .et_pb_team_member_image,
body .et_pb_team_member .et_pb_team_member_image {
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 auto 20px !important;
    overflow: hidden !important;
    display: block !important;
}

/* Adjust text description alignment under images */
body #page-container .et_pb_team_member_description,
body .et_pb_team_member .et_pb_team_member_description {
    text-align: center !important;
}

/* Removed nowrap rule that was causing text overflow in Guiding Principles section.
   The comment referenced "Recommended Resources" which doesn't exist on the page,
   and this was incorrectly affecting the Guiding Principles bullets. */

/* ==========================================================================
   14. Superscript Vertical Alignment Fix
   ========================================================================== */

/* Adjust superscript positioning to sit closer to the text baseline */
sup {
    vertical-align: baseline !important;
    position: relative !important;
    top: -0.4em !important;
    font-size: 0.75em !important;
}
